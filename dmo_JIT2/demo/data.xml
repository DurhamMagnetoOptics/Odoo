<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    <!-- Warehouse -->
        <record id="stock_warhouse_DMO" model="stock.warehouse">
            <field name="name">DMO</field>
            <field name="code">DMO</field>
        </record>       


    <!-- Shortcuts -->
        <!-- create xml id for stock, "for more convenience" -->
        <function model="ir.model.data" name="_update_xmlids">
            <value model="base" eval="[{
                'xml_id': 'dmo_JIT2.stock_location_Stock',
                'record': obj().env.ref('dmo_JIT2.stock_warhouse_DMO').lot_stock_id
            }]"/>
        </function>  

        <!-- create xml id for manufacturing operation, "for more convenience" -->
        <function model="ir.model.data" name="_update_xmlids">
            <value model="base" eval="[{
                'xml_id': 'dmo_JIT2.picking_type_manu',
                'record': obj().env.ref('dmo_JIT2.stock_warhouse_DMO').manu_type_id
            }]"/>
        </function>   

        <!-- create xml id for receipt operation, "for more convenience" -->
        <function model="ir.model.data" name="_update_xmlids">
            <value model="base" eval="[{
                'xml_id': 'dmo_JIT2.picking_type_in',
                'record': obj().env.ref('dmo_JIT2.stock_warhouse_DMO').in_type_id
            }]"/>
        </function>        

        <!-- create xml id for internal operation, "for more convenience" -->
        <function model="ir.model.data" name="_update_xmlids">
            <value model="base" eval="[{
                'xml_id': 'dmo_JIT2.picking_type_int',
                'record': obj().env.ref('dmo_JIT2.stock_warhouse_DMO').int_type_id
            }]"/>
        </function>    

    <!-- Settings -->
        <record id="my_config_settings" model="res.config.settings">
            <field name="group_stock_multi_locations" eval="True"/>
            <field name="group_stock_adv_location" eval="True"/>
        </record>
        <function model="res.config.settings" name="execute">
            <value model="res.config.settings"
                search="[('id', '=', ref('my_config_settings'))]"/>
        </function>     

        <!-- Receipts go to top-level stock -->
        <!-- Leftovers will be moved out after all pulls are accounted for -->      
        <record id="dmo_JIT2.picking_type_in" model="stock.picking.type">
            <field name="default_location_dest_id" ref="dmo_JIT2.stock_location_Stock"/>
        </record>                   

        <!-- Clear default locations on Manufacturing Operation -->
        <!-- Turn on multilevel kitting -->
        <record id="dmo_JIT2.picking_type_manu" model="stock.picking.type">
            <field name="multilevel_kitting">True</field>
            <field name="default_location_dest_id"></field>
            <field name="default_location_src_id"></field>         
        </record>                               
             
    </data>
</odoo> 